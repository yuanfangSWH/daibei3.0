(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/loanApply/loanApply"],{"0dae":function(t,e,o){"use strict";o.r(e);var n=o("e902"),i=o.n(n);for(var s in n)"default"!==s&&function(t){o.d(e,t,function(){return n[t]})}(s);e["default"]=i.a},"21b2":function(t,e,o){"use strict";o.r(e);var n=o("8f31"),i=o("0dae");for(var s in i)"default"!==s&&function(t){o.d(e,t,function(){return i[t]})}(s);o("c77f");var a=o("2877"),l=Object(a["a"])(i["default"],n["a"],n["b"],!1,null,null,null);e["default"]=l.exports},"8f31":function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=(t._self._c,t.__map(t.historybox,function(e,o){var n=t.formatName(e.name);return{$orig:t.__get_orig(e),m0:n}}));t._isMounted||(t.e0=function(e){!t.safety.state&&t.RetrieveCode()}),t.$mp.data=Object.assign({},{$root:{l0:o}})},i=[];o.d(e,"a",function(){return n}),o.d(e,"b",function(){return i})},9650:function(t,e,o){},c77f:function(t,e,o){"use strict";var n=o("9650"),i=o.n(n);i.a},e902:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o("81bd"));function i(t){return t&&t.__esModule?t:{default:t}}var s=function(){return o.e("components/uni-icon/uni-icon").then(o.bind(null,"8549"))},a={components:{uniIcon:s},data:function(){return{icontype:"arrowright",mobile:"",sfz:"",name:"",msgCode:"",key:"",regName:/^[\u4e00-\u9fa5]{2,4}$/,sfzreg:/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/,phoneReg:/^1[3-9][0-9]{9}$/,safety:{time:60,state:!1,interval:""},historybox:"",toUrl:"",userid:""}},onLoad:function(t){t.key&&(this.key=t.key),this.historydata()},methods:{loanapply:function(){var e=this;if(""!==this.name)if(this.regName.test(this.name))if(""!==this.sfz)if(this.sfzreg.test(this.sfz))if(""!==this.mobile)if(this.phoneReg.test(this.mobile))if(""!==this.msgCode){var o={mobile:this.mobile,sfz:this.sfz,name:this.name,msgCode:this.msgCode,key:this.key},i="?mobile="+this.mobile+"&sfz="+this.sfz+"&name="+this.name+"&msgCode="+this.msgCode+"&key="+this.key;n.default.apiPost("/apply/loan",i,o,"post",function(o,n,i){0==n.code?(e.toUrl=n.data.toUrl,location.href=e.toUrl):t.showToast({title:""+n.msg,icon:"none"})})}else t.showToast({title:"请输入验证码",icon:"none"});else t.showToast({title:"手机号不正确,请重新输入",icon:"none"});else t.showToast({title:"请输入手机号码",icon:"none"});else t.showToast({icon:"none",title:"请输入正确的身份证号！"});else t.showToast({icon:"none",title:"身份证号不能为空！"});else t.showToast({icon:"none",title:"请输入正确的真实姓名！"});else t.showToast({icon:"none",title:"真实姓名不能为空！"})},fnGetPhoneCode:function(){var e=this;t.showToast({title:"正在发送验证码",icon:"loading",success:function(){e.safety.state=!0,e.safety.interval=setInterval(function(){e.safety.time--<=0&&(e.safety.time=60,e.safety.state=!1,clearInterval(e.safety.interval))},1e3),t.showToast({title:"发送成功",icon:"success"})}})},RetrieveCode:function(){var e=this;if(""!==this.mobile)if(this.phoneReg.test(this.mobile)){if(0==this.safety.state){var o={mobile:this.mobile},i="?mobile="+this.mobile;n.default.apiPost("/apply/message",i,o,"post",function(o,n,i){0==n.code?e.fnGetPhoneCode():t.showToast({title:""+n.msg,icon:"none"})})}}else t.showToast({title:"手机号不正确,请重新输入",icon:"none"});else t.showToast({title:"请输入手机号码",icon:"none"})},historydata:function(){var t=this;n.default.apiPost("/apply/history","","","get",function(e,o,n){Object.is(o.data.history,{})||(t.historybox=o.data.history)})},formatName:function(t){return new Array(t.length).join("*")+t.substr(-1)},historynext:function(e){t.navigateTo({url:"/pages/index/historyapply/historyapply?id="+e+"&key="+this.key})}}};e.default=a}).call(this,o("6e42")["default"])}},[["856b","common/runtime","common/vendor"]]]);