(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/cardApply/cardApply"],{"19da":function(t,e,o){},3672:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(o("81bd"));function n(t){return t&&t.__esModule?t:{default:t}}var s=function(){return o.e("components/uni-icon/uni-icon").then(o.bind(null,"8549"))},a={components:{uniIcon:s},data:function(){return{icontype:"arrowright",mobile:"",sfz:"",name:"",msgCode:"",key:"",regName:/^[\u4e00-\u9fa5]{2,4}$/,sfzreg:/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/,phoneReg:/^1[3-9][0-9]{9}$/,safety:{time:60,state:!1,interval:""},historybox:"",toUrl:"",userid:""}},onLoad:function(t){t.key&&(this.key=t.key),this.historydata()},methods:{loanapply:function(){var e=this;if(""!==this.name)if(this.regName.test(this.name))if(""!==this.sfz)if(this.sfzreg.test(this.sfz))if(""!==this.mobile)if(this.phoneReg.test(this.mobile))if(""!==this.msgCode){var o={mobile:this.mobile,sfz:this.sfz,name:this.name,msgCode:this.msgCode,key:this.key},n="?mobile="+this.mobile+"&sfz="+this.sfz+"&name="+this.name+"&msgCode="+this.msgCode+"&key="+this.key;i.default.apiPost("/apply/card",n,o,"post",function(o,i,n){0==i.code?(e.toUrl=i.data.toUrl,location.href=e.toUrl):t.showToast({title:""+i.msg,icon:"none"})})}else t.showToast({title:"请输入验证码",icon:"none"});else t.showToast({title:"手机号不正确,请重新输入",icon:"none"});else t.showToast({title:"请输入手机号码",icon:"none"});else t.showToast({icon:"none",title:"请输入正确的身份证号！"});else t.showToast({icon:"none",title:"身份证号不能为空！"});else t.showToast({icon:"none",title:"请输入正确的真实姓名！"});else t.showToast({icon:"none",title:"真实姓名不能为空！"})},fnGetPhoneCode:function(){var e=this;t.showToast({title:"正在发送验证码",icon:"loading",success:function(){e.safety.state=!0,e.safety.interval=setInterval(function(){e.safety.time--<=0&&(e.safety.time=60,e.safety.state=!1,clearInterval(e.safety.interval))},1e3),t.showToast({title:"发送成功",icon:"success"})}})},RetrieveCode:function(){var e=this;if(""!==this.mobile)if(this.phoneReg.test(this.mobile)){if(0==this.safety.state){var o={mobile:this.mobile},n="?mobile="+this.mobile;i.default.apiPost("/apply/message",n,o,"post",function(o,i,n){0==i.code?e.fnGetPhoneCode():t.showToast({title:""+i.msg,icon:"none"})})}}else t.showToast({title:"手机号不正确,请重新输入",icon:"none"});else t.showToast({title:"请输入手机号码",icon:"none"})},historydata:function(){var t=this;i.default.apiPost("/apply/history","","","get",function(e,o,i){Object.is(o.data.history,{})||(t.historybox=o.data.history)})},formatName:function(t){return new Array(t.length).join("*")+t.substr(-1)},historynext:function(e){t.navigateTo({url:"/pages/index/cardhistoryapply/cardhistoryapply?id="+e+"&key="+this.key})}}};e.default=a}).call(this,o("6e42")["default"])},"5eb7":function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=(t._self._c,t.__map(t.historybox,function(e,o){var i=t.formatName(e.name);return{$orig:t.__get_orig(e),m0:i}}));t._isMounted||(t.e0=function(e){!t.safety.state&&t.RetrieveCode()}),t.$mp.data=Object.assign({},{$root:{l0:o}})},n=[];o.d(e,"a",function(){return i}),o.d(e,"b",function(){return n})},af40:function(t,e,o){"use strict";o.r(e);var i=o("5eb7"),n=o("cc51");for(var s in n)"default"!==s&&function(t){o.d(e,t,function(){return n[t]})}(s);o("ff98");var a=o("2877"),r=Object(a["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=r.exports},cc51:function(t,e,o){"use strict";o.r(e);var i=o("3672"),n=o.n(i);for(var s in i)"default"!==s&&function(t){o.d(e,t,function(){return i[t]})}(s);e["default"]=n.a},ff98:function(t,e,o){"use strict";var i=o("19da"),n=o.n(i);n.a}},[["0791","common/runtime","common/vendor"]]]);