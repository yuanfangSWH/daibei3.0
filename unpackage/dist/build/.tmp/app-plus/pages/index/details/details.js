(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/details/details"],{"0c81":function(t,e,o){"use strict";var i=o("e303"),n=o.n(i);n.a},"1cc6":function(t,e,o){"use strict";o.r(e);var i=o("d111"),n=o("261f");for(var s in n)"default"!==s&&function(t){o.d(e,t,function(){return n[t]})}(s);o("0c81");var a=o("2877"),u=Object(a["a"])(n["default"],i["a"],i["b"],!1,null,"ee6e242c",null);e["default"]=u.exports},"261f":function(t,e,o){"use strict";o.r(e);var i=o("aa8c"),n=o.n(i);for(var s in i)"default"!==s&&function(t){o.d(e,t,function(){return i[t]})}(s);e["default"]=n.a},aa8c:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(o("81bd"));function n(t){return t&&t.__esModule?t:{default:t}}var s=function(){return o.e("components/uni-icon/uni-icon").then(o.bind(null,"8549"))},a=function(){return o.e("components/uni-rate/uni-rate").then(o.bind(null,"a3e5"))},u={components:{uniIcon:s,uniRate:a},data:function(){return{icontype:"arrowdown",title:"picker",array:["1","2","3","4","5","6","7","8","9","10","11","12"],index:11,productID:"",infobox:{},loanname:"",urldata:"",ukey:"",utoken:"",textbox:{sqyq:""},zhouqi:Number(12),dkmoney:Number(0),loanCost:parseFloat(0),yuefeilv:Number(0),huankuan:0,regName:/^[\u4e00-\u9fa5]{2,4}$/,sfzreg:/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/,phoneReg:/^1[3-9][0-9]{9}$/,safety:{time:60,state:!1,interval:""},mobile:"",sfz:"",xname:"",msgCode:"",key:"",userdata:"",hasUinfo:!0}},onLoad:function(e){var o=window.location.href,i=t.getStorageSync("hcinfo");""==i&&(location.href=o,t.setStorageSync("hcinfo","123")),this.productID=e.id,this.ukey=e.key,this.utoken=e.token,this.pullData()},onUnload:function(){t.setStorageSync("hcinfo","")},methods:{pullData:function(){var e=this,o="",n="";void 0!=this.ukey&&void 0!=this.utoken&&void 0!=this.productID?(o={id:this.productID,key:this.ukey,token:this.utoken},n="?id="+this.productID+"&key="+this.ukey+"&token="+this.utoken):void 0==this.ukey&&void 0==this.utoken&&void 0!=this.productID?(o={id:this.productID},n="?id="+this.productID):void 0!=this.ukey&&void 0!=this.utoken&&void 0==this.productID?(o={key:this.ukey,token:this.utoken},n="?key="+this.ukey+"&token="+this.utoken):void 0==this.ukey&&void 0==this.utoken&&void 0==this.productID&&(o="",n=""),i.default.apiPost("/loan/info",n,o,"get",function(o,i,n){if(0==i.code){e.infobox=i.data.loadInfo,e.textbox=JSON.parse(e.infobox.text),e.key=e.infobox.key,e.dkmoney=e.infobox.loan_money_end;var s=e.infobox.loan_cost,a=RegExp(/%/);s.match(a)&&(s=s.substr(0,s.length-1));var u=s/100;e.loanCost=u.toFixed(4),e.yuefeilv=Number(e.loanCost),e.jisuan(),e.loanname=e.infobox.loan_name,t.setNavigationBarTitle({title:e.loanname}),i.data.userInfo?(e.hasUinfo=!1,e.msgCode="history",e.userdata=i.data.userInfo,e.xname=e.userdata.name,e.sfz=e.userdata.card,e.mobile=e.userdata.mobile):(e.hasUinfo=!0,e.msgCode="")}else t.showToast({title:""+i.msg,icon:"none"})})},onChange:function(t){},jisuan:function(){var t=Number(this.dkmoney),e=(t*this.yuefeilv*this.zhouqi+t)/this.zhouqi,o=parseFloat(e);if(isNaN(o))return!1;o=Math.round(100*e)/100;this.huankuan=o},bindPickerChange:function(t){this.index=t.target.value,this.zhouqi=parseInt(this.index+1),this.jisuan()},calculateFun:function(){this.jisuan()},zcapply:function(){var e=this;if(1==this.hasUinfo){if(""===this.xname)return void t.showToast({icon:"none",title:"真实姓名不能为空！"});if(!this.regName.test(this.xname))return void t.showToast({icon:"none",title:"请输入正确的真实姓名！"});if(""===this.sfz)return void t.showToast({icon:"none",title:"身份证号不能为空！"});if(!this.sfzreg.test(this.sfz))return void t.showToast({icon:"none",title:"请输入正确的身份证号！"});if(""===this.mobile)return void t.showToast({title:"请输入手机号码",icon:"none"});if(!this.phoneReg.test(this.mobile))return void t.showToast({title:"手机号不正确,请重新输入",icon:"none"});if(""===this.msgCode)return void t.showToast({title:"请输入验证码",icon:"none"})}var o="",n="";if(void 0!=this.utoken)o={mobile:this.mobile,sfz:this.sfz,name:this.xname,msgCode:this.msgCode,key:this.key,token:this.utoken},n="?mobile="+this.mobile+"&sfz="+this.sfz+"&name="+this.xname+"&msgCode="+this.msgCode+"&key="+this.key+"&token="+this.utoken;else o={mobile:this.mobile,sfz:this.sfz,name:this.xname,msgCode:this.msgCode,key:this.key},n="?mobile="+this.mobile+"&sfz="+this.sfz+"&name="+this.xname+"&msgCode="+this.msgCode+"&key="+this.key;i.default.apiPost("/apply/loan",n,o,"post",function(o,i,n){0==i.code?(e.toUrl=i.data.toUrl,location.href=e.toUrl):t.showToast({title:""+i.msg,icon:"none"})})},fnGetPhoneCode:function(){var e=this;t.showToast({title:"正在发送验证码",icon:"loading",success:function(){e.safety.state=!0,e.safety.interval=setInterval(function(){e.safety.time--<=0&&(e.safety.time=60,e.safety.state=!1,clearInterval(e.safety.interval))},1e3),t.showToast({title:"发送成功",icon:"success"})}})},RetrieveCode:function(){var e=this;if(""!==this.mobile)if(this.phoneReg.test(this.mobile)){if(0==this.safety.state){var o={mobile:this.mobile},n="?mobile="+this.mobile;i.default.apiPost("/apply/message",n,o,"post",function(o,i,n){0==i.code?e.fnGetPhoneCode():t.showToast({title:""+i.msg,icon:"none"})})}}else t.showToast({title:"手机号不正确,请重新输入",icon:"none"});else t.showToast({title:"请输入手机号码",icon:"none"})}}};e.default=u}).call(this,o("6e42")["default"])},d111:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){!t.safety.state&&t.RetrieveCode()})},n=[];o.d(e,"a",function(){return i}),o.d(e,"b",function(){return n})},e303:function(t,e,o){}},[["561b","common/runtime","common/vendor"]]]);